<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title><%= book.title %> - Book Details</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#0d1117] text-white min-h-screen flex flex-col">

  <!-- Navbar -->
  <%- include('partials/navbar', { user: user }) %>

  <main class="flex-grow flex items-center justify-center p-6">
    <div class="bg-white/10 border border-cyan-400/30 backdrop-blur-md rounded-xl shadow-lg p-8 max-w-xl w-full">
      
      <!-- Book Info -->
      <p class="text-lg mb-2"><strong>Title:</strong> <%= book.title %></p>
      <p class="text-lg mb-2"><strong>Author:</strong> <%= book.authorId %></p>
      <p class="text-md mb-2"><strong>Genre:</strong> <%= book.genre %></p>
      <p class="text-md mb-4"><strong>Available Quantity:</strong> <%= book.quantity %></p>

      <!-- Borrow Book Form -->
      <form action="/borrow/books/<%= book._id %>" method="POST" class="space-y-4">
        <div>
          <label for="userId" class="block text-sm font-medium text-white mb-1">Select User</label>
          <select name="userId" id="userId" required
            class="w-full bg-gray-800 border border-cyan-400/50 rounded-md p-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-400">
            <% users.forEach(user => { %>
              <option value="<%= user._id %>"><%= user.userid %></option>
            <% }) %>
          </select>
        </div>

        <button type="submit"
          class="w-full bg-cyan-400 text-[#0d1117] font-bold py-2 rounded-md hover:bg-[#00d4ff] hover:shadow-[0_0_10px_rgba(0,255,255,0.8)] transition">
          Borrow Book
        </button>
      </form>
    </div>
  </main>
</body>

</html>
